(()=>{function e(e,t){chrome.storage.sync.set({config:e},(function(){t()}))}function t(e){chrome.storage.sync.get("config",(function(t){null==t||null==t.config?e({config:{}}):e(t.config)}))}function n(){var e=document.getElementById("all");if(null!=e){for(;e.firstChild;)e.removeChild(e.firstChild);t((function(t){var n=!0,i=Object.entries(t);if(0!=i.length){for(const t of i){let c=t[0],i=t[1].url,o=t[1].port,l=t[1].checked;"checked"==l&&(n=!1),e.appendChild(d(c,o,i,l))}n&&c("No configs selected. Using default of http://localhost:8084.")}else c("No configs added. Using default of http://localhost:8084.")}))}}function c(e,t=!1){var n=document.getElementById("messages"),c=document.createElement("div");c.classList.add("message"),t&&c.classList.add("warning"),c.innerHTML=e,n.prepend(c)}function d(e,t,n,c){let d=document.createElement("div");return d.id=e,d.classList.add("config_row"),d.innerHTML=`${function(e){return`<input type='checkbox' class='select_check' name='selected'' ${e}>`}(c)} ${function(e,t,n){return`<div class='name'>${e}</div><div class='address'>Url: ${t}, Port: ${n}</div>`}(e,n,t)} <button class='std_button' id='delete'>X</button>`,d}window.onload=n(),window.onload=function(){c("Ready to Rock!")},document.addEventListener("click",(function(d){var i;d.target&&"delete"==d.target.id&&(i=d.target.parentElement.id,t(function(t){null!=t[this.id]&&delete t[this.id],e(t,function(){c(`Deleted config ${this.id}.`),n()}.bind({id:this.id}))}.bind({id:i})))})),document.addEventListener("change",(function(d){var i;d.target&&"selected"==d.target.name&&(i=d.target.parentElement.id,t(function(t){for(const e of Object.entries(t))e[0]==i?"checked"==e[1].checked?(e[1].checked="unchecked",c(`De-selected config ${i}.`)):(e[1].checked="checked",c(`Config ${i} is now set to default.`)):e[1].checked="unchecked";e(t,(function(){n()}))}.bind({id:i})))})),document.addEventListener("click",(function(e){var n;(e.target&&e.target.classList.contains("address")||e.target.classList.contains("name"))&&function(e,n){t((function(t){var c=t[e];null!=c&&n(c)}))}(n=e.target.parentElement.id,function(e){document.getElementById("name").value=n,document.getElementById("url").value=e.url,document.getElementById("port").value=e.port,c(`Editing config ${n}.`)}.bind({id:n}))})),document.getElementById("save_form").addEventListener("click",(function(){var d=document.getElementById("name").value,i=document.getElementById("url").value,o=document.getElementById("port").value;(function(e,t,n){return""!==e&&""!==t&&""!==n||(c("WRONG!!! All fields must be completed. What were you thinking?",!0),!1)})(d,i,o)&&t((function(t){let l={url:i,port:o,checked:"unchecked"};t[d]=l,e(t,(function(){n(),c(`Saved config ${d} | Url: ${i}, Port: ${o}`)}))}))}))})();
//# sourceMappingURL=options.js.map